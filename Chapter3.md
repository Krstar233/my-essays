---
title: Java的基本程序设计结构
date: 2021-3-3 16:30:10
tags:
- Core Java Volume学习笔记
---
### Java虚拟机如何编译一个Hello World程序?
- 首先程序会写在.java后缀的文件里,在确保语法没有错误的情况下,Java编译器会编译.java文件,并生成的字节码存储在相应的.class文件中,这种字节码是Java语言特有的,并且独立于平台(与平台无关),JVM的作用就是将.class文件中的字节码,解释成相应平台的机器代码,从而java语言在JVM的帮助下,可以做到平台无关性.


### 注释
- java中的行注释用"//"开头表示,而块注释使用"/*注释*/"表示,但是要注意的是/\*\*/没有办法嵌套使用,所以不能简单的将代码使用/\*\*/括起来注释,因为代码里面可能还有*/


### Java基本数据类型
- 在Java中一共有8中基本类型: int,short,long,byte,float,double,char,boolean
- int--4字节,short--2字节,long--8字节,byte--1字节,float--4字节,double--8字节


### Unicode转义序列和char类型有什么区别?
- Unicode直接在代码中转义,char类型是基本数据类型,用于存储数据.
在条件判断语句中必须返回的是boolean类型的条件表达式,与C++不同,if(a = 0)编译不通过


### 变量
- Java中变量名大小写敏感,和C++不同的是,可以使用$符开头.
- 使用未初始化的变量,编译器会报错.
- 使用final可以声明一个常量,如final int NUM = 10;可以使用static final声明一个类常量.


### 运算符
- "+-*/%"四则运算符和取余符号.
- 位运算符,&|^~, 还有 << >> <<< >>>, 分别是算数左右移和逻辑左右移
- 自增自减,++ --
- 赋值运算,= += *= /= %=
- 条件判断,== != > < >= <= && ||
- strictfp关键字不允许不同的处理器使用扩展的精度,而使用严格的浮点运算,这种做法可以确保所有平台的浮点运算的相同,但可能会影响浮点运算的精度和效率.


### 枚举类型
- 声明: enum Size {SMALL, MEDIUM, LARGE};
- 使用: Size s = Size.SMALL;


### String类型
- String类型的对象为不可变字符串


### 码点与代码单元
- char类型的数据就是采用UTF-16编码表示**Unicode码点**的代码单元


### 控制流程
- 条件分支 if, else, else if, switch
- 循环 while, for, do-while
- 中断控制流 break, continue
- Java中goto是保留字,但没有使用


### 大数值
- java.math包中包含了大整数类(BigInteger)和大浮点数类(BigDecimal),可以进行任意精度的整数运算和浮点数运算.


### 数组
- 数组的声明可以是int[] a; 也可以是int a[]; 但这样的数组只是声明,还未分配空间,需要分配空间则使用new关键字,即 int[] a = new int[n]; 这个n可以是具体的非负整数,也可以是一个大于等于0的整型变量;
- for each循环: for(variable : collection),可以实现数组或者其他实现了Iterable接口的类对象(如List等)的遍历.
  ```java
  int[] a = new int[100];
  // ... some code
  for (int v : a){
      // ...
  }
  ```
- 数组的初始化可以是:
    ```java
   int[] a = new int[]{1,2,3,4};    // 1
   int[] b = {1,2,3,4};             // 2
   new int[]{1,2,3,4};              // 3. 匿名数组
    ```
- 数组的拷贝: 
  如果只是简单的赋值给另一个对象,则只是将引用赋值,是浅拷贝,要实现数组的深拷贝,可以使用Arrays类的copyOf方法
  ```java
  int[] a = {1,2,3,4};
  int[] b = Arrays.copyOf(a, a.length); // 深拷贝
  ```
  这种方法通常也可以用来扩展数组的长度:
  ```java
  a = Arrays.copyOf(a, 2*a.length);
  ```
- 数组的排序: 可以使用Arrays.sort方法,这种方法使用了**优化的快速排序算法**:
  ```java
  int[] a = {4,2,5,1};
  Arrays.sort(a);
  ```

  
### 多维数组
- 多维数组的声明,中括号[]可以随便放,下列声明都是合法的:
  ```java
  int[][] a;
  int[]a[];
  int a[][];
  ```
- 多维数组的初始化中,第一个括号必须有值,例如:
  ```java
  int[][] a = int[4][]; // 合法
  int[][] b = int[4][3]; //合法
  int[][] c = int[][3]; // ERROR - 不合法
  ```
- 多维数组的初始化可以简写成:
  ```java
  int[][] a = 
  {
      {1,2,3,4},
      {5,6,7,8},
      {9,10,11,12}
  };
  ```
- 不规则数组:
  Java的多维数组不一定是规整的n*m的形式,也可以是不规则的数组,下列数组的初始化也是合法的:
  ```java
  int[][] a = 
  {
      {1},
      {1,1},
      {1,2,1},
      {1,3,3,1}
  };
  ```